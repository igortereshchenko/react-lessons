<html>


<body>

    <div id='app'></div>
    

    <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">

        class Clock extends React.Component{

            constructor(props){
                super(props);
                this.state = {date: new Date()};
                this.unmout = this.unmout.bind(this);
            }

            //when delete from html
            unmout(){

                ReactDOM.unmountComponentAtNode(document.getElementById('app'));
            }

            // when add to html
            componentDidMount(){
                this.timer =   setInterval(()=>this.tick(), 1000);
                console.log('componentDidMount');
            }
            // before unmount
            componentWillUnmount(){
                clearInterval(this.timer);
                console.log('componentWillUnmount');
            }

            tick(){
                this.setState({date: new Date()})
                console.log('tick');
            }

            render(){
                return (
                    <div>
                        <h1>Time is {this.state.date.toLocaleTimeString()}</h1>
                        <button onClick = {this.unmout}>Delete timer</button>
                    </div>
                );
            }

        }


        ReactDOM.render(<Clock />, document.getElementById('app'))

    </script>





</body>

</html>